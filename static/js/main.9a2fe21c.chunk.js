(this["webpackJsonpmovie-shoppies"]=this["webpackJsonpmovie-shoppies"]||[]).push([[0],{10:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(23),o=n.n(i),r=(n(30),n(25)),c=n(3),l=n(4),d=n(6),m=n(5),u=(n(10),n(7),n(0)),p=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).styles={fontSize:20,fontWeight:"bold"},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"image-container d-flex justify-content-start m-1",children:[Object(u.jsxs)("p",{children:[this.props.movie.Year," movie"]}),Object(u.jsx)("img",{src:this.props.movie.Poster,alt:this.props.movie.Title}),this.props.nominated?"":Object(u.jsx)("div",{onClick:function(){return e.props.delete?e.props.onDelete(e.props.movie.imdbID):e.props.onNominate(e.props.movie)},className:"overlay d-flex align-items-center justify-content-center",children:this.props.delete?Object(u.jsx)("span",{className:"mr-2",style:{color:"red"},children:"Remove from Nominations"}):Object(u.jsx)("span",{className:"mr-2",style:{color:"green"},children:"Add to Nominations"})})]})}}]),n}(a.Component),h=(n(32),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(u.jsx)("div",{className:"container-fluid movie-app",children:Object(u.jsx)("div",{className:"row__posters",children:this.props.movies?this.props.movies.map((function(t){return Object(u.jsx)(p,{movie:t,delete:!0,onDelete:e.props.onDelete},e.props.movies.indexOf(t))})):Object(u.jsx)("p",{children:"Nominate your favourite movies"})})})}}]),n}(a.Component)),v=n(11),j=n.n(v),b=n(24),f=function(e){return Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("h2",{children:e.heading})})},O=n(12),y=n.n(O),x=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"col col-sm-4",children:Object(u.jsx)("input",{className:"form-control",value:this.props.value,placeholder:"Search for movies",onChange:this.props.onQuery})})}}]),n}(a.Component),g=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={searchResults:[],query:""},e.sendQuery=function(){var t=Object(b.a)(j.a.mark((function t(n){var a,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("http://www.omdbapi.com/?i=tt3896198&apikey=7ef2162c&type=movie&s=".concat(n));case 2:if("False"!==(a=t.sent).data.Response){t.next=10;break}return t.next=6,y.a.get("http://www.omdbapi.com/?i=tt3896198&apikey=7ef2162c&type=movie&t=".concat(n));case 6:"True"===(s=t.sent).data.Response&&e.setState({searchResults:[s.data]}),t.next=12;break;case 10:i=a.data.Search,e.setState({searchResults:i});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleQuery=function(t){console.log(t.target.value),e.setState({query:t.target.value}),e.sendQuery(t.target.value)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"container-fluid movie-app",children:[Object(u.jsxs)("div",{className:"row d-flex align-items-center mt-4 mb-4",children:[Object(u.jsx)(f,{heading:"Movies"}),Object(u.jsx)(x,{value:this.state.query,onQuery:this.handleQuery})]}),Object(u.jsx)("div",{className:"row__posters",children:this.state.searchResults?this.state.searchResults.map((function(t){return Object(u.jsx)(p,{movie:t,delete:!1,onNominate:e.props.onNominate,nominated:!!(e.props.movies.length>4||e.props.movies.find((function(e){return e.Title===t.Title})))},e.state.searchResults.indexOf(t))})):Object(u.jsx)("p",{children:"No movie title to search for"})})]})}}]),n}(a.Component),N=n(8),S=n.n(N),w=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={nominatedMovies:[],displayWarning:!1},e.handleDelete=function(t){var n=e.state.nominatedMovies.filter((function(e){return e.imdbID!==t}));e.setState({nominatedMovies:n}),S.a.set("nominated",n),5===n.length?e.setState({displayWarning:!0}):e.setState({displayWarning:!1})},e.handleNomination=function(t){var n=[].concat(Object(r.a)(e.state.nominatedMovies),[t]);e.setState({nominatedMovies:n}),S.a.set("nominated",n),5===n.length?e.setState({displayWarning:!0}):e.setState({displayWarning:!1})},e.handleReset=function(){e.setState({nominatedMovies:[]}),S.a.set("nominated",[]),e.setState({displayWarning:!1})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=S.a.get("nominated");this.setState({nominatedMovies:e}),5===e.length?this.setState({displayWarning:!0}):this.setState({displayWarning:!1})}},{key:"populateNominations",value:function(){var e=S.a.get("nominated");this.setState({nominatedMovies:e})}},{key:"render",value:function(){return Object(u.jsx)(s.a.Fragment,{children:Object(u.jsxs)("div",{className:"container-fluid movie-app",children:[Object(u.jsx)(g,{movies:this.state.nominatedMovies,onNominate:this.handleNomination}),Object(u.jsx)("div",{className:"row d-flex align-items-center mt-4 mb-4",children:Object(u.jsx)(f,{heading:"Nominations"})}),Object(u.jsx)("button",{className:"button",onClick:this.handleReset,children:"Reset Nominations"}),this.state.displayWarning?Object(u.jsx)("h3",{children:"You can only nominate 5 movies! Reset or delete some movies to nominate"}):"",Object(u.jsx)(h,{movies:this.state.nominatedMovies,onDelete:this.handleDelete,nominated:!1})]})})}}]),n}(a.Component);o.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.9a2fe21c.chunk.js.map