(this["webpackJsonpmovie-shoppies"]=this["webpackJsonpmovie-shoppies"]||[]).push([[0],{10:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(23),o=n.n(i),r=(n(29),n(3)),c=n(4),l=n(6),d=n(5),m=(n(10),n(7),n(0)),u=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).styles={fontSize:20,fontWeight:"bold"},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"image-container d-flex justify-content-start m-1",children:[Object(m.jsxs)("p",{children:[this.props.movie.Year," movie"]}),Object(m.jsx)("img",{src:this.props.movie.Poster,alt:this.props.movie.Title}),this.props.nominated?"":Object(m.jsx)("div",{onClick:function(){return e.props.delete?e.props.onDelete(e.props.movie.imdbID):e.props.onNominate(e.props.movie)},className:"overlay d-flex align-items-center justify-content-center",children:this.props.delete?Object(m.jsx)("span",{className:"mr-2",style:{color:"red"},children:"Remove from Nominations"}):Object(m.jsx)("span",{className:"mr-2",style:{color:"green"},children:"Add to Nominations"})})]})}}]),n}(s.Component),p=(n(31),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{className:" movie-app",children:Object(m.jsx)("div",{className:"row__posters",children:this.props.movies?this.props.movies.map((function(t){return Object(m.jsx)(u,{movie:t,delete:!0,onDelete:e.props.onDelete},e.props.movies.indexOf(t))})):Object(m.jsx)("p",{children:"Nominate your favourite movies"})})})}}]),n}(s.Component)),h=n(11),v=n.n(h),j=n(24),b=function(e){return Object(m.jsx)("div",{className:"col",children:Object(m.jsx)("h2",{children:e.heading})})},f=n(12),O=n.n(f),y=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"col col-sm-4",children:Object(m.jsx)("input",{className:"form-control",value:this.props.value,placeholder:"Search for movies",onChange:this.props.onQuery})})}}]),n}(s.Component),x=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={searchResults:[],query:""},e.sendQuery=function(){var t=Object(j.a)(v.a.mark((function t(n){var s,a,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("https://www.omdbapi.com/?i=tt3896198&apikey=7ef2162c&type=movie&s=".concat(n));case 2:if("False"!==(s=t.sent).data.Response){t.next=10;break}return t.next=6,O.a.get("https://www.omdbapi.com/?i=tt3896198&apikey=7ef2162c&type=movie&t=".concat(n));case 6:"True"===(a=t.sent).data.Response&&e.setState({searchResults:[a.data]}),t.next=12;break;case 10:i=s.data.Search,e.setState({searchResults:i});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleQuery=function(t){console.log(t.target.value),e.setState({query:t.target.value}),e.sendQuery(t.target.value)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"container-fluid movie-app",children:[Object(m.jsxs)("div",{className:"row d-flex align-items-center mt-4 mb-4",children:[Object(m.jsx)(b,{heading:"Movies"}),Object(m.jsx)(y,{value:this.state.query,onQuery:this.handleQuery})]}),Object(m.jsx)("div",{className:"row__posters",children:this.state.searchResults?this.state.searchResults.map((function(t){return Object(m.jsx)(u,{movie:t,delete:!1,onNominate:e.props.onNominate,nominated:!(!e.props.movies||!(e.props.movies.length>4||e.props.movies.find((function(e){return e.Title===t.Title}))))},e.state.searchResults.indexOf(t))})):Object(m.jsx)("p",{children:"No movie title to search for"})})]})}}]),n}(s.Component),g=n(8),N=n.n(g),S=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).handleDelete=function(e){var t=s.state.nominatedMovies.filter((function(t){return t.imdbID!==e}));s.setState({nominatedMovies:t}),N.a.set("nominated",t),5===t.length?s.setState({displayWarning:!0}):s.setState({displayWarning:!1})},s.handleNomination=function(e){var t=s.state.nominatedMovies.concat(e);s.setState({nominatedMovies:t}),N.a.set("nominated",t),5===t.length?s.setState({displayWarning:!0}):s.setState({displayWarning:!1})},s.handleReset=function(){s.setState({nominatedMovies:[]}),N.a.set("nominated",[]),s.setState({displayWarning:!1})},s.state={nominatedMovies:[],displayWarning:!1},s}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=N.a.get("nominated");e&&(this.setState({nominatedMovies:e}),5===e.length?this.setState({displayWarning:!0}):this.setState({displayWarning:!1}),console.log(this.state.nominatedMovies.length))}},{key:"populateNominations",value:function(){var e=N.a.get("nominated");this.setState({nominatedMovies:e})}},{key:"render",value:function(){return Object(m.jsx)(a.a.Fragment,{children:Object(m.jsxs)("div",{className:"container-fluid movie-app",style:{flex:2,justifyContent:"center",alignItems:"center"},children:[Object(m.jsx)(x,{movies:this.state.nominatedMovies,onNominate:this.handleNomination}),Object(m.jsx)(b,{heading:"Nominations"}),Object(m.jsx)("button",{className:"button",onClick:this.handleReset,children:"Reset Nominations"}),this.state.displayWarning?Object(m.jsx)("h3",{children:"You can only nominate 5 movies! Reset or delete some movies to nominate"}):"",Object(m.jsx)(p,{movies:this.state.nominatedMovies,onDelete:this.handleDelete,nominated:!1})]})})}}]),n}(s.Component);o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.ae568362.chunk.js.map